import{d as M,a as D,c as u,i as a,g as s,f as i,u as n,F as g,l as k,k as v,j as c,o as d,m as x,S as y,e as C,J as w,t as b,n as h,q as O,N as j}from"./app-DNu05MVj.js";import{u as J}from"./useBookmarksStore-Urxcev28.js";import{_ as E}from"./WeatherCard.vue_vue_type_script_setup_true_lang-fNVKrC7f.js";import{_ as I}from"./ClockCard.vue_vue_type_script_setup_true_lang-BTxC3Ae-.js";import{_ as R,a as W}from"./DialogContent.vue_vue_type_script_setup_true_lang-BzvrM9yk.js";import{_ as q,a as H,b as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-gdWZZsvb.js";import{_ as Q}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DPOfDt9Q.js";import{_}from"./index-iLt1T1zO.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-5yH3YiIf.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-BdGUYAy1.js";import{S as Y,B as G}from"./settings-2-CzJym-bZ.js";import{C as K,S as X,F as Z}from"./star-DMxJoHzK.js";import{C as ee}from"./clock-CkdAjGhH.js";import{T as te}from"./tag-CXAqAqjO.js";const ae={class:"relative"},le={class:"mb-4 flex items-center justify-between"},oe={class:"text-2xl font-bold"},se={class:"text-sm text-muted-foreground"},ne={key:0,href:"https://open-meteo.com",target:"_blank",rel:"noopener noreferrer"},re={key:1},ie={class:"space-y-6"},de={class:"space-y-2"},ce=["id","onUpdate:modelValue","onChange"],ue=["for"],me={key:0,class:"text-xs text-muted-foreground"},fe={class:"mb-3 flex items-center space-x-2"},ve={for:"weather-enabled",class:"flex items-center gap-2 text-sm font-semibold cursor-pointer"},be={key:0,class:"space-y-3 pl-6"},pe={class:"space-y-2"},ge={class:"flex flex-wrap gap-2"},ke={class:"grid grid-cols-3 gap-3"},he={class:"space-y-2"},_e={class:"space-y-2"},xe={class:"space-y-2"},ye={class:"mb-3 flex items-center space-x-2"},Ce={for:"clock-enabled",class:"flex items-center gap-2 text-sm font-semibold cursor-pointer"},we={key:0,class:"space-y-3 pl-6"},Se={class:"space-y-2"},Ve={class:"flex flex-wrap gap-2"},$e=["onClick"],De={class:"flex items-center space-x-2"},Ne=["checked"],Pe=M({__name:"StatsCards",setup(Ue){const{state:m}=J(),f=D(!1),N=[{value:"minimal",label:"Minimal Modern"},{value:"digital-led",label:"Classic LED"},{value:"retro",label:"Retro Terminal"},{value:"bold",label:"Bold Dashboard"},{value:"soft",label:"Soft Ambient"}],V=[{id:"total",label:"Total Bookmarks",icon:G,color:"bg-blue-500/10 text-blue-500",enabled:!0,clickable:!0,href:"/bookmarks/all"},{id:"favorites",label:"Favorites",icon:X,color:"bg-amber-500/10 text-amber-500",enabled:!0,clickable:!0,href:"/bookmarks/favorites"},{id:"collections",label:"Collections",icon:Z,color:"bg-violet-500/10 text-violet-500",enabled:!0,clickable:!1},{id:"tags",label:"Tags Used",icon:te,color:"bg-emerald-500/10 text-emerald-500",enabled:!0,clickable:!1}],l=D((()=>{try{const r=localStorage.getItem("dashboard_cards_config");if(r){const e=JSON.parse(r);return{cards:V.map(o=>({...o,enabled:e.enabledCards.includes(o.id)})),weather:e.weather,clock:{enabled:e.clock?.enabled??!1,format:e.clock?.format??"12h",variant:e.clock?.variant??"minimal"}}}}catch(r){console.error("Failed to load dashboard config:",r)}return{cards:[...V],weather:{enabled:!1,city:"London",latitude:51.5074,longitude:-.1278},clock:{enabled:!1,format:"12h",variant:"minimal"}}})()),U=()=>{try{const r={enabledCards:l.value.cards.filter(e=>e.enabled).map(e=>e.id),weather:l.value.weather,clock:l.value.clock};localStorage.setItem("dashboard_cards_config",JSON.stringify(r))}catch(r){console.error("Failed to save dashboard config:",r)}},$=O(()=>l.value.cards.filter(r=>r.enabled)),z=r=>{const e=new Date,t=new Date(e.getTime()-10080*60*1e3);switch(r){case"total":return m.bookmarks.filter(o=>!o.status||o.status==="active").length;case"favorites":return m.bookmarks.filter(o=>o.is_favorite&&(!o.status||o.status==="active")).length;case"collections":return m.collections.length;case"tags":return m.tags.length;case"recent":return m.bookmarks.filter(o=>o.created_at?new Date(o.created_at)>=t&&(!o.status||o.status==="active"):!1).length;case"archived":return m.bookmarks.filter(o=>o.status==="archived").length;case"untagged":return m.bookmarks.filter(o=>(!o.tags||o.tags.length===0)&&(!o.status||o.status==="active")).length;default:return 0}},B=r=>{r.clickable&&r.action&&r.action()},L=()=>{f.value=!0},A=()=>{U(),f.value=!1},F=[{name:"London",lat:51.5074,lon:-.1278},{name:"New York",lat:40.7128,lon:-74.006},{name:"Tokyo",lat:35.6762,lon:139.6503},{name:"Paris",lat:48.8566,lon:2.3522},{name:"Sydney",lat:-33.8688,lon:151.2093},{name:"Dubai",lat:25.2048,lon:55.2708}],T=r=>{l.value.weather.city=r.name,l.value.weather.latitude=r.lat,l.value.weather.longitude=r.lon};return(r,e)=>(d(),u("div",ae,[a("div",le,[e[9]||(e[9]=a("h2",{class:"text-sm font-semibold text-muted-foreground"},"DASHBOARD",-1)),s(n(_),{variant:"ghost",size:"icon",class:"h-6 w-6",onClick:L},{default:i(()=>[s(n(Y),{class:"size-3.5"})]),_:1})]),(d(),u("div",{class:"grid grid-cols-2 gap-4 lg:grid-cols-4",key:$.value.length},[(d(!0),u(g,null,k($.value,t=>(d(),C(w(t.clickable&&t.href?n(j):"div"),{key:t.id,href:t.href,class:h(["flex items-center gap-4 rounded-xl border bg-card p-4 transition-colors h-[88px]",t.clickable?"cursor-pointer hover:bg-accent/50":""]),onClick:o=>B(t)},{default:i(()=>[a("div",{class:h(["flex size-10 items-center justify-center rounded-lg",t.color])},[(d(),C(w(t.icon),{class:"size-5"}))],2),a("div",null,[a("p",oe,b(z(t.id)),1),a("p",se,b(t.label),1)])]),_:2},1032,["href","class","onClick"]))),128)),l.value.weather.enabled?(d(),u("a",ne,[s(E,{city:l.value.weather.city,latitude:l.value.weather.latitude,longitude:l.value.weather.longitude},null,8,["city","latitude","longitude"])])):v("",!0),l.value.clock.enabled?(d(),u("div",re,[s(I,{format:l.value.clock.format,"onUpdate:format":e[0]||(e[0]=t=>l.value.clock.format=t),variant:l.value.clock.variant},null,8,["format","variant"])])):v("",!0)])),s(n(W),{open:f.value,"onUpdate:open":e[8]||(e[8]=t=>f.value=t)},{default:i(()=>[s(n(R),{class:"max-w-2xl"},{default:i(()=>[s(n(q),null,{default:i(()=>[s(n(H),null,{default:i(()=>[...e[10]||(e[10]=[c("Dashboard Cards",-1)])]),_:1}),s(n(P),null,{default:i(()=>[...e[11]||(e[11]=[c(" Customize which cards appear on your dashboard ",-1)])]),_:1})]),_:1}),a("div",ie,[a("div",null,[e[12]||(e[12]=a("h3",{class:"mb-3 text-sm font-semibold"},"Visible Cards",-1)),a("div",de,[(d(!0),u(g,null,k(l.value.cards,t=>(d(),u("div",{key:t.id,class:"flex items-center space-x-2"},[x(a("input",{type:"checkbox",id:t.id,"onUpdate:modelValue":o=>t.enabled=o,onChange:()=>{console.log(`Native checkbox changed for ${t.id}:`,t.enabled),console.log("All cards enabled states:",l.value.cards.map(o=>({id:o.id,enabled:o.enabled})))},class:"h-4 w-4 rounded border-gray-300"},null,40,ce),[[y,t.enabled]]),a("label",{for:t.id,class:"flex items-center gap-2 text-sm font-medium leading-none cursor-pointer"},[(d(),C(w(t.icon),{class:"size-4"})),c(" "+b(t.label)+" ",1),t.clickable?(d(),u("span",me,"(clickable)")):v("",!0)],8,ue)]))),128))])]),a("div",null,[a("div",fe,[x(a("input",{type:"checkbox",id:"weather-enabled","onUpdate:modelValue":e[1]||(e[1]=t=>l.value.weather.enabled=t),class:"h-4 w-4 rounded border-gray-300"},null,512),[[y,l.value.weather.enabled]]),a("label",ve,[s(n(K),{class:"size-4"}),e[13]||(e[13]=c(" Weather Card ",-1))])]),l.value.weather.enabled?(d(),u("div",be,[a("div",pe,[s(n(p),null,{default:i(()=>[...e[14]||(e[14]=[c("Quick Select",-1)])]),_:1}),a("div",ge,[(d(),u(g,null,k(F,t=>s(n(_),{key:t.name,variant:"outline",size:"sm",onClick:o=>T(t),class:h(l.value.weather.city===t.name?"border-primary":"")},{default:i(()=>[c(b(t.name),1)]),_:2},1032,["onClick","class"])),64))])]),a("div",ke,[a("div",he,[s(n(p),{for:"city"},{default:i(()=>[...e[15]||(e[15]=[c("City Name",-1)])]),_:1}),s(n(S),{id:"city",modelValue:l.value.weather.city,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.weather.city=t),placeholder:"London"},null,8,["modelValue"])]),a("div",_e,[s(n(p),{for:"latitude"},{default:i(()=>[...e[16]||(e[16]=[c("Latitude",-1)])]),_:1}),s(n(S),{id:"latitude",modelValue:l.value.weather.latitude,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.weather.latitude=t),modelModifiers:{number:!0},type:"number",step:"0.0001",placeholder:"51.5074"},null,8,["modelValue"])]),a("div",xe,[s(n(p),{for:"longitude"},{default:i(()=>[...e[17]||(e[17]=[c("Longitude",-1)])]),_:1}),s(n(S),{id:"longitude",modelValue:l.value.weather.longitude,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.weather.longitude=t),modelModifiers:{number:!0},type:"number",step:"0.0001",placeholder:"-0.1278"},null,8,["modelValue"])])]),e[18]||(e[18]=a("div",{class:"space-y-2"},[a("p",{class:"text-xs text-muted-foreground"}," Weather data is cached for 15 minutes. Click the weather card to visit Open-Meteo. "),a("p",{class:"text-xs text-muted-foreground"},[c(" Need coordinates? "),a("a",{href:"https://www.latlong.net/",target:"_blank",rel:"noopener noreferrer",class:"text-primary hover:underline"}," Find lat/long on LatLong.net ")])],-1))])):v("",!0)]),a("div",null,[a("div",ye,[x(a("input",{type:"checkbox",id:"clock-enabled","onUpdate:modelValue":e[5]||(e[5]=t=>l.value.clock.enabled=t),class:"h-4 w-4 rounded border-gray-300"},null,512),[[y,l.value.clock.enabled]]),a("label",Ce,[s(n(ee),{class:"size-4"}),e[19]||(e[19]=c(" Clock Card ",-1))])]),l.value.clock.enabled?(d(),u("div",we,[a("div",Se,[s(n(p),null,{default:i(()=>[...e[20]||(e[20]=[c("Clock Style",-1)])]),_:1}),a("div",Ve,[(d(),u(g,null,k(N,t=>a("div",{key:t.value,onClick:o=>l.value.clock.variant=t.value,class:h(["cursor-pointer rounded-md border px-3 py-2 text-sm transition-all hover:bg-accent",l.value.clock.variant===t.value?"bg-primary text-primary-foreground border-primary":"bg-background"])},b(t.label),11,$e)),64))])]),a("div",De,[a("input",{type:"checkbox",id:"clock-format",checked:l.value.clock.format==="24h",onChange:e[6]||(e[6]=t=>l.value.clock.format=t.target.checked?"24h":"12h"),class:"h-4 w-4 rounded border-gray-300"},null,40,Ne),e[21]||(e[21]=a("label",{for:"clock-format",class:"text-sm"},"Use 24-hour format",-1))])])):v("",!0)])]),s(n(Q),null,{default:i(()=>[s(n(_),{variant:"outline",onClick:e[7]||(e[7]=t=>f.value=!1)},{default:i(()=>[...e[22]||(e[22]=[c(" Cancel ",-1)])]),_:1}),s(n(_),{onClick:A},{default:i(()=>[...e[23]||(e[23]=[c(" Save Changes ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]))}});export{Pe as _};
