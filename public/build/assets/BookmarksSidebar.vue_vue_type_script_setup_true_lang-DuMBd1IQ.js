import{d as N,c as x,r as J,n as _,u as e,o as n,e as c,f as a,g as s,N as u,i as l,j as C,O as A,T as B,t as d,k as f,F as M,l as I,J as K,a as w,q as F}from"./app-Cnu1gOwx.js";import{_ as R,a as $,b as L,c as T,d as O,e as p,f as m,g as Q,h as W,i as X}from"./NavUser.vue_vue_type_script_setup_true_lang-DpNtjfa_.js";import{_ as Y}from"./Input.vue_vue_type_script_setup_true_lang-BjujaZ9W.js";import{c as Z}from"./utils-B2lt5qvW.js";import"./SidebarProvider.vue_vue_type_script_setup_true_lang-D9ELYKiY.js";import{C as V,I as k}from"./lucide-vue-next-CiKiUD8U.js";import{u as ee}from"./useBookmarksStore-CqZ8Hg9i.js";import{a as se,g as te}from"./colors-DpnboA01.js";import{_ as ae}from"./AppLogo.vue_vue_type_script_setup_true_lang-B5KWgplW.js";import{S as re,C as j,F as D}from"./users-BWVYtLU_.js";import{P as oe}from"./plus-DCRnZunc.js";import{L as le}from"./panel-left-open-DngcrXPr.js";import{T as ie}from"./tag-BjC7eIM1.js";import{S as ne}from"./star-B2-gdSc0.js";import{A as ce}from"./rotate-ccw-kUhca3zG.js";import{T as de}from"./trash-2-t0kMx7gE.js";const ue=N({__name:"SidebarHeader",props:{class:{}},setup(S){const o=S;return(h,y)=>(n(),x("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:_(e(Z)("flex flex-col gap-2 p-2",o.class))},[J(h.$slots,"default")],2))}}),fe={class:"relative mb-4"},pe={class:"flex flex-1 items-center gap-1.5"},me={class:"text-xs text-muted-foreground"},xe={class:"flex-1"},_e={class:"text-xs text-muted-foreground"},ve={class:"mt-2 flex flex-wrap gap-1.5"},ge=["onClick"],ke={class:"text-xs text-muted-foreground"},he={class:"text-xs text-muted-foreground"},ye={class:"text-xs text-muted-foreground"},Ne=N({__name:"BookmarksSidebar",setup(S){const{state:o,toggleTag:h,clearTags:y,openCollectionModal:E,openSearch:G}=ee(),v=w(!0),g=w(!0),P=F(()=>o.collections),U=F(()=>o.tags),q=i=>i.slug?`/bookmarks/collection/${i.slug}`:"/dashboard",z=i=>o.pageMode==="index"&&o.selectedCollection===i,b=i=>i==="/bookmarks/favorites"?o.filterType==="favorites"&&o.pageMode==="index":i==="/bookmarks/archive"?o.pageMode==="archive":i==="/bookmarks/trash"?o.pageMode==="trash":!1,H=i=>{if(!i)return D;if(k[i])return k[i];if(i.includes("-")||i.includes(" ")){const r=i.split(/[- ]+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join("");if(k[r])return k[r]}return D};return(i,r)=>(n(),c(e(X),{collapsible:"offcanvas",class:"border-r lg:border-r-0"},{default:a(()=>[s(e(ue),{class:"p-2 pb-0"},{default:a(()=>[s(e(u),{href:"/",class:"px-4 py-2"},{default:a(()=>[s(ae)]),_:1})]),_:1}),s(e(R),{class:"px-5 pt-5"},{default:a(()=>[l("div",fe,[s(re,{class:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),s(e(Y),{placeholder:"Search Bookmarks...",class:"h-9 bg-background pl-9 pr-10 cursor-pointer",readonly:"",onClick:e(G)},null,8,["onClick"]),r[4]||(r[4]=l("div",{class:"absolute right-2 top-1/2 -translate-y-1/2 rounded bg-muted px-1.5 py-0.5 text-[11px] font-medium text-muted-foreground"}," âŒ˜K ",-1))]),s(e($),{class:"p-0"},{default:a(()=>[s(e(L),{class:"flex items-center gap-1.5 px-0 text-[10px] font-semibold tracking-wider text-muted-foreground"},{default:a(()=>[l("div",pe,[l("button",{class:"flex cursor-pointer items-center gap-1.5",onClick:r[0]||(r[0]=t=>v.value=!v.value)},[s(V,{class:_(["size-3.5 transition-transform",{"-rotate-90":!v.value}])},null,8,["class"]),r[5]||(r[5]=C(" COLLECTIONS ",-1))])]),l("button",{class:"ml-auto flex size-5 items-center justify-center rounded-md hover:bg-muted",onClick:r[1]||(r[1]=A(t=>e(E)(),["stop"]))},[s(oe,{class:"size-3"})])]),_:1}),s(B,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-[-10px] opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-[-10px] opacity-0"},{default:a(()=>[v.value?(n(),c(e(T),{key:0},{default:a(()=>[s(e(O),{class:"mt-2"},{default:a(()=>[s(e(p),null,{default:a(()=>[s(e(m),{"as-child":"","is-active":e(o).selectedCollection==="all"&&e(o).pageMode==="index"&&e(o).filterType==="all",class:"h-[38px]"},{default:a(()=>[s(e(u),{href:"/bookmarks/all"},{default:a(()=>[s(le,{class:"size-5"}),r[6]||(r[6]=l("span",{class:"flex-1"},"All Bookmarks",-1)),l("span",me,d(e(o).bookmarks.filter(t=>(!t.status||t.status==="active")&&!t.deleted_at).length),1),e(o).selectedCollection==="all"&&e(o).pageMode==="index"&&e(o).filterType==="all"?(n(),c(j,{key:0,class:"size-4 text-muted-foreground opacity-60"})):f("",!0)]),_:1})]),_:1},8,["is-active"])]),_:1}),(n(!0),x(M,null,I(P.value,t=>(n(),c(e(p),{key:t.id},{default:a(()=>[s(e(m),{"as-child":"","is-active":z(String(t.id)),class:"h-[38px]"},{default:a(()=>[s(e(u),{href:q(t)},{default:a(()=>[(n(),c(K(H(t.icon)),{class:_(["size-5",e(se)(t.color)])},null,8,["class"])),l("span",xe,d(t.name),1),l("span",_e,d(t.count),1),z(String(t.id))?(n(),c(j,{key:0,class:"size-4 text-muted-foreground opacity-60"})):f("",!0)]),_:2},1032,["href"])]),_:2},1032,["is-active"])]),_:2},1024))),128))]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1}),s(e($),{class:"p-0"},{default:a(()=>[s(e(L),{class:"flex items-center gap-1.5 px-0 text-[10px] font-semibold tracking-wider text-muted-foreground"},{default:a(()=>[l("button",{class:"flex cursor-pointer items-center gap-1.5",onClick:r[2]||(r[2]=t=>g.value=!g.value)},[s(V,{class:_(["size-3.5 transition-transform",{"-rotate-90":!g.value}])},null,8,["class"]),r[7]||(r[7]=C(" TAGS ",-1))]),e(o).selectedTags.length>0?(n(),x("button",{key:0,class:"ml-auto text-[10px] text-muted-foreground hover:text-foreground",onClick:r[3]||(r[3]=A((...t)=>e(y)&&e(y)(...t),["stop"]))}," Clear ")):f("",!0)]),_:1}),s(B,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-[-10px] opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-[-10px] opacity-0"},{default:a(()=>[g.value?(n(),c(e(T),{key:0},{default:a(()=>[l("div",ve,[(n(!0),x(M,null,I(U.value,t=>(n(),x("button",{key:t.id,class:_(["inline-flex items-center gap-1 rounded-md px-2 py-1 text-xs font-medium transition-colors",e(o).selectedTags.includes(t.id)?"bg-primary text-primary-foreground":[e(te)(t.color),"hover:opacity-80 border-transparent"]]),onClick:be=>e(h)(t.id)},[s(ie,{class:"size-3"}),C(" "+d(t.name),1)],10,ge))),128))])]),_:1})):f("",!0)]),_:1})]),_:1}),s(e($),{class:"p-0"},{default:a(()=>[s(e(T),null,{default:a(()=>[s(e(O),null,{default:a(()=>[s(e(p),null,{default:a(()=>[s(e(m),{"as-child":"","is-active":b("/bookmarks/favorites"),class:"h-[38px]"},{default:a(()=>[s(e(u),{href:"/bookmarks/favorites"},{default:a(()=>[s(ne,{class:"size-5"}),r[8]||(r[8]=l("span",{class:"flex-1"},"Favorites",-1)),l("span",ke,d(e(o).bookmarks.filter(t=>t.is_favorite&&(!t.status||t.status==="active")).length),1)]),_:1})]),_:1},8,["is-active"])]),_:1}),s(e(p),null,{default:a(()=>[s(e(m),{"as-child":"","is-active":b("/bookmarks/archive"),class:"h-[38px]"},{default:a(()=>[s(e(u),{href:"/bookmarks/archive"},{default:a(()=>[s(ce,{class:"size-5"}),r[9]||(r[9]=l("span",{class:"flex-1"},"Archive",-1)),l("span",he,d(e(o).bookmarks.filter(t=>t.status==="archived").length),1)]),_:1})]),_:1},8,["is-active"])]),_:1}),s(e(p),null,{default:a(()=>[s(e(m),{"as-child":"","is-active":b("/bookmarks/trash"),class:"h-[38px]"},{default:a(()=>[s(e(u),{href:"/bookmarks/trash"},{default:a(()=>[s(de,{class:"size-5"}),r[10]||(r[10]=l("span",{class:"flex-1"},"Trash",-1)),l("span",ye,d(e(o).bookmarks.filter(t=>t.status==="trashed").length),1)]),_:1})]),_:1},8,["is-active"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(e(Q),null,{default:a(()=>[s(W)]),_:1})]),_:1}))}});export{Ne as _};
