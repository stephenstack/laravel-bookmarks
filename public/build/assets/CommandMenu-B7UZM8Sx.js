import{d as z,w as h,z as D,B as M,e as k,u,f as _,g as c,i as s,m as N,v as V,c as d,t as v,k as p,F as T,l as U,j as w,C as b,a as C,o as l,n as $}from"./app-BM4wth8d.js";import{u as j}from"./useBookmarksStore-UPt413RC.js";import{a as I,_ as K}from"./DialogContent.vue_vue_type_script_setup_true_lang-BWxvEzB-.js";import{S}from"./settings-DgS13b6o.js";import{B as A}from"./settings-2-2_Oxji1u.js";import{E as F}from"./external-link-Cp1QdOL3.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"flex items-center border-b px-4 h-14 bg-muted/20"},R={class:"max-h-[400px] overflow-y-auto p-2"},G={key:0,class:"py-14 text-center text-sm"},H={class:"text-muted-foreground"},J={key:1,class:"py-14 text-center text-sm"},P={key:2,class:"space-y-1"},Q=["onClick","onMouseenter"],W={class:"flex-shrink-0 size-10 rounded-md bg-muted/80 flex items-center justify-center border shadow-sm group-hover:bg-primary/5"},X=["src"],Y={class:"flex-1 min-w-0"},Z={class:"font-medium text-[15px] truncate"},ee={class:"text-xs text-blue-600/80 dark:text-blue-400/80 truncate"},te={key:0,class:"hidden sm:flex items-center gap-1 shrink-0 px-2 py-0.5 rounded bg-primary/20 text-[10px] font-semibold text-primary"},se={class:"flex items-center justify-between border-t px-4 py-3 bg-muted/30 text-[10px] text-muted-foreground"},oe={class:"flex items-center gap-1"},ne=z({__name:"CommandMenu",setup(re){const{state:x,openSearch:E,closeSearch:m,toggleSearch:B}=j(),i=b({get:()=>x.isSearchModalOpen,set:e=>{e?E():m()}}),o=C(""),n=C(0);h(o,()=>{n.value=0}),h(i,e=>{e&&(o.value="")});const r=b(()=>{if(!o.value)return[];const e=o.value.toLowerCase();return x.bookmarks.filter(t=>t.title.toLowerCase().includes(e)||t.url.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e)).slice(0,10)}),g=e=>{window.open(e.url,"_blank"),m(),o.value=""},y=e=>{if((e.ctrlKey||e.metaKey)&&e.key==="k"){e.preventDefault(),B();return}i.value&&(e.key==="ArrowDown"?(e.preventDefault(),r.value.length>0&&(n.value=(n.value+1)%r.value.length)):e.key==="ArrowUp"?(e.preventDefault(),r.value.length>0&&(n.value=(n.value-1+r.value.length)%r.value.length)):e.key==="Enter"?r.value[n.value]&&g(r.value[n.value]):e.key==="Escape"&&m())};return D(()=>{window.addEventListener("keydown",y)}),M(()=>{window.removeEventListener("keydown",y)}),(e,t)=>(l(),k(u(I),{open:i.value,"onUpdate:open":t[1]||(t[1]=a=>i.value=a)},{default:_(()=>[c(u(K),{class:"p-0 sm:max-w-[600px] overflow-hidden border shadow-2xl bg-background"},{default:_(()=>[s("div",q,[c(u(S),{class:"mr-2 h-4 w-4 shrink-0 text-muted-foreground"}),N(s("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),class:"flex w-full rounded-md bg-transparent py-4 text-base outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Search bookmarks, collections...",autofocus:""},null,512),[[V,o.value]]),t[2]||(t[2]=s("div",{class:"px-2 py-0.5 rounded bg-muted text-[10px] font-medium text-muted-foreground flex items-center gap-1"},[s("span",null,"ESC")],-1))]),s("div",R,[r.value.length===0&&o.value?(l(),d("div",G,[s("p",H,'No results found for "'+v(o.value)+'".',1)])):p("",!0),o.value?p("",!0):(l(),d("div",J,[...t[3]||(t[3]=[s("p",{class:"text-muted-foreground"},"Type to search your bookmarks...",-1)])])),r.value.length>0?(l(),d("div",P,[t[5]||(t[5]=s("div",{class:"px-2 py-1.5 text-[10px] font-medium text-muted-foreground uppercase tracking-wider"}," Bookmarks ",-1)),(l(!0),d(T,null,U(r.value,(a,f)=>(l(),d("button",{key:a.id,onClick:L=>g(a),onMouseenter:L=>n.value=f,class:$(["w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-left transition-all duration-200 outline-none",[n.value===f?"bg-primary/10 text-primary scale-[1.01] shadow-sm":"hover:bg-muted/50 text-foreground"]])},[s("div",W,[a.favicon?(l(),d("img",{key:0,src:a.favicon,class:"size-5"},null,8,X)):(l(),k(u(A),{key:1,class:"size-4 text-muted-foreground"}))]),s("div",Y,[s("div",Z,v(a.title),1),s("div",ee,v(a.url),1)]),n.value===f?(l(),d("div",te,[t[4]||(t[4]=s("span",null,"ENTER",-1)),c(u(F),{class:"size-3"})])):p("",!0)],42,Q))),128))])):p("",!0)]),s("div",se,[t[7]||(t[7]=s("div",{class:"flex items-center gap-4"},[s("span",{class:"flex items-center gap-1"},[s("kbd",{class:"px-1.5 py-0.5 rounded bg-muted border"},"Enter"),w(" to select")]),s("span",{class:"flex items-center gap-1"},[s("kbd",{class:"px-1.5 py-0.5 rounded bg-muted border"},"↑↓"),w(" to navigate")])],-1)),s("div",oe,[c(u(S),{class:"size-3"}),t[6]||(t[6]=s("span",null,"Search Bookmarks",-1))])])]),_:1})]),_:1},8,["open"]))}}),me=O(ne,[["__scopeId","data-v-a9372c69"]]);export{me as C};
