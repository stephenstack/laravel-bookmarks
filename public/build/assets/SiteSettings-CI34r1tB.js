import{d as Y,c as d,r as Z,n as k,u as t,o as r,a as M,w as D,b as G,e as L,f as a,g as s,h as ee,i as l,j as n,k as c,F as I,l as j,t as B,m as te,v as se,p as O}from"./app-Cnu1gOwx.js";import{_ as le}from"./AppLayout.vue_vue_type_script_setup_true_lang-BsunwvL6.js";import{_ as v}from"./index-ZhNFNWlx.js";import{_ as m}from"./Input.vue_vue_type_script_setup_true_lang-BjujaZ9W.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-mTSbsMtz.js";import{_ as x,a as C,b as h,c as w,d as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-CkUeK54L.js";import{c as oe}from"./utils-B2lt5qvW.js";import{T as ae,G as W,B as ne,L as ie,M as re,S as $,a as de}from"./triangle-alert-CBXZg20A.js";import{L as P}from"./loader-circle-BoSQ0lUE.js";import{W as ue}from"./wand-sparkles-CyYsSBe9.js";import{T as q}from"./trash-2-t0kMx7gE.js";import{P as me}from"./plus-DCRnZunc.js";import"./SidebarProvider.vue_vue_type_script_setup_true_lang-D9ELYKiY.js";import"./index-C95YMyaC.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-7KO4OSdx.js";import"./Presence-DsGFcCQD.js";import"./Primitive-DjESCHKf.js";import"./useForwardExpose-BLSp3ctu.js";import"./useForwardPropsEmits-7OYayjxh.js";import"./useBookmarksStore-CqZ8Hg9i.js";import"./RovingFocusGroup-CTM2BYrC.js";import"./NavUser.vue_vue_type_script_setup_true_lang-DpNtjfa_.js";import"./x-DPYUiTTF.js";import"./createLucideIcon-Bcqn1TNB.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BM8zGcSl.js";import"./VisuallyHidden-DMHoSJ6j.js";import"./DropdownMenuLabel.vue_vue_type_script_setup_true_lang-BsNCB4s2.js";import"./index-BDqSilVs.js";import"./users-BWVYtLU_.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-B5KWgplW.js";import"./panel-left-open-DngcrXPr.js";import"./settings-2-Coye754b.js";import"./SidebarTrigger.vue_vue_type_script_setup_true_lang-Wh4flilG.js";import"./CommandMenu-7__iXElJ.js";import"./DialogContent.vue_vue_type_script_setup_true_lang-BRP34PkQ.js";import"./external-link-Ba6wMvep.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F=Y({__name:"CardFooter",props:{class:{}},setup(T){const p=T;return(z,H)=>(r(),d("div",{"data-slot":"card-footer",class:k(t(oe)("flex items-center px-6 [.border-t]:pt-6",p.class))},[Z(z.$slots,"default")],2))}}),pe={class:"p-6 max-w-7xl mx-auto space-y-6"},ce={key:0,class:"bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-900 rounded-xl p-4 flex gap-4 items-start animate-in fade-in slide-in-from-top-4 duration-500"},ge={class:"size-10 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center shrink-0"},fe={class:"space-y-6"},_e={class:"flex items-center space-x-1 border-b"},be={class:"flex items-center gap-2"},ye={class:"flex items-center gap-2"},ve={class:"flex items-center gap-2"},ke={class:"flex items-center gap-2"},xe={key:0,class:"space-y-4"},Ce={class:"grid gap-2"},he={class:"grid gap-2"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"grid gap-2"},Se={key:0,class:"mb-2"},Ue=["src"],Le={class:"grid gap-2"},Te={key:0,class:"mb-2"},Ae=["src"],Me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ze={class:"grid gap-2"},Re={key:0,class:"mb-2"},Ie=["src"],je={class:"grid gap-2"},Be={key:0,class:"mb-2"},$e=["src"],Pe={key:0,class:"text-sm text-amber-600 dark:text-amber-400 font-medium"},Fe={key:1,class:"space-y-4"},Ne={class:"grid gap-2"},Ee={class:"grid gap-2"},De={class:"grid gap-2"},Ge={class:"flex flex-wrap gap-2 mb-2"},Oe=["onClick","title"],We={class:"grid gap-2"},qe={class:"grid gap-2"},Ye={class:"flex flex-wrap gap-2 mb-2"},He=["onClick","title"],Je={class:"grid gap-2"},Ke={key:0,class:"relative aspect-video w-full max-w-sm rounded-lg overflow-hidden border mb-2 group"},Qe=["src"],Xe={class:"text-xs text-muted-foreground mt-1"},Ze={class:"text-amber-600 dark:text-amber-500"},et=["href"],tt={class:"grid gap-2"},st={class:"flex items-center justify-between"},lt={class:"text-sm font-medium"},ot={key:0,class:"text-sm text-amber-600 dark:text-amber-400 font-medium"},at={key:2,class:"space-y-4"},nt={class:"flex items-center justify-between"},it={key:0,class:"flex items-center gap-2 text-sm text-amber-600 animate-pulse"},rt={key:0,class:"text-center py-8 text-muted-foreground"},dt={class:"flex items-start justify-between gap-4"},ut={class:"grid gap-4 flex-1 md:grid-cols-2 lg:grid-cols-4"},mt={class:"grid gap-2"},pt={class:"grid gap-2"},ct={class:"flex gap-2"},gt={class:"grid gap-2"},ft={class:"flex gap-2"},_t={key:0,class:"size-9 p-1 border rounded bg-white flex items-center justify-center"},bt=["src"],yt={class:"grid gap-2"},vt={class:"md:col-span-2 lg:col-span-4 grid gap-2"},kt={key:0,class:"md:col-span-2 lg:col-span-4"},xt={class:"relative aspect-[21/9] w-full max-w-2xl rounded-lg overflow-hidden border"},Ct=["src"],ht={class:"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/80 to-transparent text-white"},wt={class:"font-bold truncate"},Vt={class:"text-xs opacity-80 truncate"},St=["onClick"],Ut={key:3,class:"space-y-4"},Lt={class:"p-4 bg-muted/50 rounded-lg border text-sm space-y-3"},Tt={class:"font-bold flex items-center gap-2"},At={class:"space-y-4 border-t pt-6"},Mt={class:"grid gap-4"},zt={class:"grid gap-2"},Rt={class:"flex gap-2"},bs=Y({__name:"SiteSettings",props:{settings:{},companyBookmarks:{}},setup(T){const p=T,z=[{title:"Admin Settings",href:"/admin/settings"}],f=M(typeof window>"u"?"general":new URLSearchParams(window.location.search).get("tab")||"general");D(f,g=>{const e=new URL(window.location.href);e.searchParams.set("tab",g),window.history.replaceState({},"",e)});const i=G({site_title:p.settings.site_title||"",site_repo_url:p.settings.site_repo_url||"https://github.com/stephenstack/laravel-bookmarks",site_logo_light:p.settings.site_logo_light||"",site_logo_dark:p.settings.site_logo_dark||"",site_favicon_light:p.settings.site_favicon_light||"",site_favicon_dark:p.settings.site_favicon_dark||"",company_collection_title:p.settings.company_collection_title||"",company_collection_color:p.settings.company_collection_color||"",company_collection_icon:p.settings.company_collection_icon||"",company_tag_name:p.settings.company_tag_name||"Company",company_tag_color:p.settings.company_tag_color||"blue",background_image:p.settings.background_image||"",background_opacity:p.settings.background_opacity||100}),y=G({bookmarks:p.companyBookmarks||[]}),J=()=>{y.bookmarks.push({id:null,title:"",url:"",description:"",favicon:"",image_url:""})},K=g=>{y.bookmarks.splice(g,1)},N=()=>{i.post("/admin/settings",{preserveScroll:!0})},R=()=>{y.post("/admin/company-bookmarks",{preserveScroll:!0})},S=M(null),Q=async g=>{const e=y.bookmarks[g];if(e.url){S.value=g;try{const b=(await O.post("/admin/interrogate-url",{url:e.url})).data;e.title=b.title||e.title,e.description=b.description||e.description,e.favicon=b.favicon||e.favicon,e.image_url=b.image_url||e.image_url,R()}catch(o){console.error("Interrogation failed:",o),alert(o.response?.data?.error||"Failed to interrogate URL")}finally{S.value=null}}};D(()=>i.company_collection_icon,g=>{g&&(g.includes("-")||g.includes(" "))&&(i.company_collection_icon=g.split(/[- ]+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""))});const E=[{name:"slate",class:"bg-slate-500"},{name:"gray",class:"bg-gray-500"},{name:"zinc",class:"bg-zinc-500"},{name:"neutral",class:"bg-neutral-500"},{name:"stone",class:"bg-stone-500"},{name:"red",class:"bg-red-500"},{name:"orange",class:"bg-orange-500"},{name:"amber",class:"bg-amber-500"},{name:"yellow",class:"bg-yellow-500"},{name:"lime",class:"bg-lime-500"},{name:"green",class:"bg-green-500"},{name:"emerald",class:"bg-emerald-500"},{name:"teal",class:"bg-teal-500"},{name:"cyan",class:"bg-cyan-500"},{name:"sky",class:"bg-sky-500"},{name:"blue",class:"bg-blue-500"},{name:"indigo",class:"bg-indigo-500"},{name:"violet",class:"bg-violet-500"},{name:"purple",class:"bg-purple-500"},{name:"fuchsia",class:"bg-fuchsia-500"},{name:"pink",class:"bg-pink-500"},{name:"rose",class:"bg-rose-500"}],U=M(""),A=M(!1),X=async()=>{if(U.value){A.value=!0;try{await O.post("/admin/test-email",{email:U.value}),alert("Test email sent! Check your inbox.")}catch(g){alert(g.response?.data?.error||"Failed to send test email. Check your .env configuration.")}finally{A.value=!1}}};return(g,e)=>(r(),L(le,{breadcrumbs:z},{default:a(()=>[s(t(ee),{title:"Site Settings"}),l("div",pe,[e[77]||(e[77]=l("div",{class:"flex items-center justify-between"},[l("div",null,[l("h1",{class:"text-3xl font-bold tracking-tight"},"Admin Settings"),l("p",{class:"text-muted-foreground"},"Manage global site configuration and company resources.")])],-1)),T.settings.setup_required?(r(),d("div",ce,[l("div",ge,[s(t(ae),{class:"size-5 text-amber-600 dark:text-amber-400"})]),e[19]||(e[19]=l("div",null,[l("h3",{class:"font-bold text-amber-900 dark:text-amber-100 uppercase tracking-wider text-xs"},"Initial Setup Required"),l("p",{class:"text-sm text-amber-800 dark:text-amber-200 mt-1 max-w-2xl"},[n(" To complete your installation, you must configure your "),l("span",{class:"font-bold"},"Company Collection"),n(" name and add at least one "),l("span",{class:"font-bold"},"Company Bookmark"),n(". Other areas of the site will remain restricted until this is complete. ")])],-1))])):c("",!0),l("div",fe,[l("div",_e,[l("button",{onClick:e[0]||(e[0]=o=>f.value="general"),class:k(["w-48 py-2.5 text-sm font-medium transition-all border-b-2 -mb-px hover:text-foreground flex justify-center",f.value==="general"?"border-primary text-foreground bg-primary/5":"border-transparent text-muted-foreground"])},[l("div",be,[s(t(W),{class:"size-4"}),e[20]||(e[20]=n(" General ",-1))])],2),l("button",{onClick:e[1]||(e[1]=o=>f.value="company"),class:k(["w-48 py-2.5 text-sm font-medium transition-all border-b-2 -mb-px hover:text-foreground flex justify-center",f.value==="company"?"border-primary text-foreground bg-primary/5":"border-transparent text-muted-foreground"])},[l("div",ye,[s(t(ne),{class:"size-4"}),e[21]||(e[21]=n(" Company Collection ",-1))])],2),l("button",{onClick:e[2]||(e[2]=o=>f.value="bookmarks"),class:k(["w-48 py-2.5 text-sm font-medium transition-all border-b-2 -mb-px hover:text-foreground flex justify-center",f.value==="bookmarks"?"border-primary text-foreground bg-primary/5":"border-transparent text-muted-foreground"])},[l("div",ve,[s(t(ie),{class:"size-4"}),e[22]||(e[22]=n(" Company Bookmarks ",-1))])],2),l("button",{onClick:e[3]||(e[3]=o=>f.value="mail"),class:k(["w-48 py-2.5 text-sm font-medium transition-all border-b-2 -mb-px hover:text-foreground flex justify-center",f.value==="mail"?"border-primary text-foreground bg-primary/5":"border-transparent text-muted-foreground"])},[l("div",ke,[s(t(re),{class:"size-4"}),e[23]||(e[23]=n(" Mail Settings ",-1))])],2)]),f.value==="general"?(r(),d("div",xe,[s(t(x),null,{default:a(()=>[s(t(C),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[24]||(e[24]=[n("Site Identity",-1)])]),_:1}),s(t(w),null,{default:a(()=>[...e[25]||(e[25]=[n("Configure the main branding elements of the platform.",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[l("div",Ce,[s(t(u),null,{default:a(()=>[...e[26]||(e[26]=[n("Site Title",-1)])]),_:1}),s(t(m),{modelValue:t(i).site_title,"onUpdate:modelValue":e[4]||(e[4]=o=>t(i).site_title=o),placeholder:"Platform Name"},null,8,["modelValue"])]),l("div",he,[s(t(u),null,{default:a(()=>[...e[27]||(e[27]=[n("Repository URL",-1)])]),_:1}),s(t(m),{modelValue:t(i).site_repo_url,"onUpdate:modelValue":e[5]||(e[5]=o=>t(i).site_repo_url=o),placeholder:"https://github.com/..."},null,8,["modelValue"])]),l("div",we,[l("div",Ve,[s(t(u),null,{default:a(()=>[...e[28]||(e[28]=[n("Logo (Light Mode)",-1)])]),_:1}),typeof t(i).site_logo_light=="string"&&t(i).site_logo_light?(r(),d("div",Se,[l("img",{src:t(i).site_logo_light,alt:"Light Logo",class:"h-12 object-contain border p-1 rounded bg-white"},null,8,Ue)])):c("",!0),s(t(m),{type:"file",onChange:e[6]||(e[6]=o=>t(i).site_logo_light=o.target.files[0]),accept:"image/*"}),e[29]||(e[29]=l("p",{class:"text-xs text-muted-foreground"},"Upload PNG, JPG, or SVG.",-1))]),l("div",Le,[s(t(u),null,{default:a(()=>[...e[30]||(e[30]=[n("Logo (Dark Mode)",-1)])]),_:1}),typeof t(i).site_logo_dark=="string"&&t(i).site_logo_dark?(r(),d("div",Te,[l("img",{src:t(i).site_logo_dark,alt:"Dark Logo",class:"h-12 object-contain border p-1 rounded bg-gray-900"},null,8,Ae)])):c("",!0),s(t(m),{type:"file",onChange:e[7]||(e[7]=o=>t(i).site_logo_dark=o.target.files[0]),accept:"image/*"}),e[31]||(e[31]=l("p",{class:"text-xs text-muted-foreground"},"Upload PNG, JPG, or SVG.",-1))])]),l("div",Me,[l("div",ze,[s(t(u),null,{default:a(()=>[...e[32]||(e[32]=[n("Favicon (Light Mode)",-1)])]),_:1}),typeof t(i).site_favicon_light=="string"&&t(i).site_favicon_light?(r(),d("div",Re,[l("img",{src:t(i).site_favicon_light,alt:"Light Favicon",class:"h-8 w-8 object-contain border p-1 rounded bg-white"},null,8,Ie)])):c("",!0),s(t(m),{type:"file",onChange:e[8]||(e[8]=o=>t(i).site_favicon_light=o.target.files[0]),accept:".ico,.png,.svg,.jpg"})]),l("div",je,[s(t(u),null,{default:a(()=>[...e[33]||(e[33]=[n("Favicon (Dark Mode)",-1)])]),_:1}),typeof t(i).site_favicon_dark=="string"&&t(i).site_favicon_dark?(r(),d("div",Be,[l("img",{src:t(i).site_favicon_dark,alt:"Dark Favicon",class:"h-8 w-8 object-contain border p-1 rounded bg-gray-900"},null,8,$e)])):c("",!0),s(t(m),{type:"file",onChange:e[9]||(e[9]=o=>t(i).site_favicon_dark=o.target.files[0]),accept:".ico,.png,.svg,.jpg"})])])]),_:1}),s(t(F),{class:"flex items-center gap-4"},{default:a(()=>[s(t(v),{onClick:N,disabled:t(i).processing},{default:a(()=>[s(t($),{class:"mr-2 size-4"}),e[34]||(e[34]=n(" Save Site Identity ",-1))]),_:1},8,["disabled"]),t(i).recentlySuccessful?(r(),d("p",Pe," Settings saved. Apply Refresh. ")):c("",!0)]),_:1})]),_:1})])):c("",!0),f.value==="company"?(r(),d("div",Fe,[s(t(x),null,{default:a(()=>[s(t(C),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[35]||(e[35]=[n("Company Collection",-1)])]),_:1}),s(t(w),null,{default:a(()=>[...e[36]||(e[36]=[n("A common shared collection for all users. Defines how the 'Company Resources' section appears.",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[l("div",Ne,[s(t(u),null,{default:a(()=>[...e[37]||(e[37]=[n("Collection Title",-1)])]),_:1}),s(t(m),{modelValue:t(i).company_collection_title,"onUpdate:modelValue":e[10]||(e[10]=o=>t(i).company_collection_title=o),placeholder:"Default: Company Resources"},null,8,["modelValue"])]),l("div",Ee,[s(t(u),null,{default:a(()=>[...e[38]||(e[38]=[n("Collection Icon",-1)])]),_:1}),s(t(m),{modelValue:t(i).company_collection_icon,"onUpdate:modelValue":e[11]||(e[11]=o=>t(i).company_collection_icon=o),placeholder:"Lucide Icon Name (e.g. Building)"},null,8,["modelValue"]),e[39]||(e[39]=l("p",{class:"text-xs text-muted-foreground"},[n(" Browse available icons at "),l("a",{href:"https://lucide.dev/icons",target:"_blank",rel:"noopener noreferrer",class:"underline text-primary hover:text-primary/80"},"lucide.dev/icons")],-1))]),l("div",De,[s(t(u),null,{default:a(()=>[...e[40]||(e[40]=[n("Color Theme",-1)])]),_:1}),l("div",Ge,[(r(),d(I,null,j(E,o=>l("button",{key:o.name,type:"button",onClick:b=>t(i).company_collection_color=o.name,class:k(["size-6 rounded-full border transition-all",o.class,t(i).company_collection_color===o.name?"ring-2 ring-primary ring-offset-2 scale-110":"hover:scale-110 opacity-80 hover:opacity-100"]),title:o.name},null,10,Oe)),64))]),s(t(m),{modelValue:t(i).company_collection_color,"onUpdate:modelValue":e[12]||(e[12]=o=>t(i).company_collection_color=o),placeholder:"e.g. blue, red, emerald"},null,8,["modelValue"])])]),_:1})]),_:1}),s(t(x),null,{default:a(()=>[s(t(C),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[41]||(e[41]=[n("Company Tag",-1)])]),_:1}),s(t(w),null,{default:a(()=>[...e[42]||(e[42]=[n("Configure the automatic tag applied to all company bookmarks.",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[l("div",We,[s(t(u),null,{default:a(()=>[...e[43]||(e[43]=[n("Tag Name",-1)])]),_:1}),s(t(m),{modelValue:t(i).company_tag_name,"onUpdate:modelValue":e[13]||(e[13]=o=>t(i).company_tag_name=o),placeholder:"e.g. COMPANY"},null,8,["modelValue"])]),l("div",qe,[s(t(u),null,{default:a(()=>[...e[44]||(e[44]=[n("Tag Color",-1)])]),_:1}),l("div",Ye,[(r(),d(I,null,j(E,o=>l("button",{key:o.name,type:"button",onClick:b=>t(i).company_tag_color=o.name,class:k(["size-6 rounded-full border transition-all",[o.class,t(i).company_tag_color===o.name?"ring-2 ring-primary ring-offset-2":"hover:scale-110"]]),title:o.name},null,10,He)),64))]),s(t(m),{modelValue:t(i).company_tag_color,"onUpdate:modelValue":e[14]||(e[14]=o=>t(i).company_tag_color=o),placeholder:"e.g. blue, red, emerald"},null,8,["modelValue"])])]),_:1})]),_:1}),s(t(x),null,{default:a(()=>[s(t(C),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[45]||(e[45]=[n("Appearance",-1)])]),_:1}),s(t(w),null,{default:a(()=>[...e[46]||(e[46]=[n("Global background settings.",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[l("div",Je,[s(t(u),null,{default:a(()=>[...e[47]||(e[47]=[n("Background Image",-1)])]),_:1}),typeof t(i).background_image=="string"&&t(i).background_image?(r(),d("div",Ke,[l("img",{src:t(i).background_image,class:"w-full h-full object-cover"},null,8,Qe),l("button",{type:"button",onClick:e[15]||(e[15]=o=>t(i).background_image=null),class:"absolute top-2 right-2 bg-destructive text-destructive-foreground p-1 px-2 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity"}," Remove Image ")])):c("",!0),l("input",{type:"file",onChange:e[16]||(e[16]=o=>t(i).background_image=o.target.files[0]),accept:"image/*",class:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50"},null,32),l("p",Xe,[e[50]||(e[50]=n(" We recommend ",-1)),e[51]||(e[51]=l("a",{href:"https://freepik.com",target:"_blank",rel:"noopener noreferrer",class:"underline text-primary hover:text-primary/80"},"Freepik",-1)),e[52]||(e[52]=n(" for high-quality stock images. (Max 64MB) ",-1)),e[53]||(e[53]=l("br",null,null,-1)),l("span",Ze,[e[48]||(e[48]=n(" Note: If files fail to update, check your system PHP upload limits. See ",-1)),l("a",{href:(t(i).site_repo_url||"https://github.com/stephenstack/laravel-bookmarks")+"#troubleshooting",target:"_blank",rel:"noopener noreferrer",class:"underline text-primary hover:text-primary/80"},"README",8,et),e[49]||(e[49]=n(". ",-1))])])]),l("div",tt,[l("div",st,[s(t(u),null,{default:a(()=>[...e[54]||(e[54]=[n("Background Opacity",-1)])]),_:1}),l("span",lt,B(t(i).background_opacity)+"%",1)]),te(l("input",{type:"range",min:"0",max:"100",step:"1","onUpdate:modelValue":e[17]||(e[17]=o=>t(i).background_opacity=o),class:"w-full h-2 bg-secondary rounded-lg appearance-none cursor-pointer accent-primary"},null,512),[[se,t(i).background_opacity]]),e[55]||(e[55]=l("p",{class:"text-xs text-muted-foreground"},"Adjust opacity to blend the background image overlay.",-1))])]),_:1}),s(t(F),{class:"flex items-center gap-4"},{default:a(()=>[s(t(v),{onClick:N,disabled:t(i).processing},{default:a(()=>[s(t($),{class:"mr-2 size-4"}),e[56]||(e[56]=n(" Save Changes ",-1))]),_:1},8,["disabled"]),t(i).recentlySuccessful?(r(),d("p",ot," Settings saved. Apply Refresh. ")):c("",!0)]),_:1})]),_:1})])):c("",!0),f.value==="bookmarks"?(r(),d("div",at,[s(t(x),null,{default:a(()=>[s(t(C),null,{default:a(()=>[l("div",nt,[l("div",null,[s(t(h),null,{default:a(()=>[...e[57]||(e[57]=[n("Company Bookmarks",-1)])]),_:1}),s(t(w),null,{default:a(()=>[...e[58]||(e[58]=[n("These bookmarks appear for EVERY user in the company collection.",-1)])]),_:1})]),S.value!==null?(r(),d("div",it,[s(t(P),{class:"size-4 animate-spin"}),e[59]||(e[59]=n(" Interrogating page... This may take a minute. ",-1))])):c("",!0)])]),_:1}),s(t(V),{class:"space-y-4"},{default:a(()=>[t(y).bookmarks.length===0?(r(),d("div",rt," No company bookmarks defined yet. ")):c("",!0),(r(!0),d(I,null,j(t(y).bookmarks,(o,b)=>(r(),d("div",{key:b,class:"p-4 border rounded-lg bg-card/50 space-y-4"},[l("div",dt,[l("div",ut,[l("div",mt,[s(t(u),null,{default:a(()=>[...e[60]||(e[60]=[n("Title",-1)])]),_:1}),s(t(m),{modelValue:o.title,"onUpdate:modelValue":_=>o.title=_,placeholder:"Bookmark Title"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",pt,[s(t(u),null,{default:a(()=>[...e[61]||(e[61]=[n("URL",-1)])]),_:1}),l("div",ct,[s(t(m),{modelValue:o.url,"onUpdate:modelValue":_=>o.url=_,placeholder:"https://example.com"},null,8,["modelValue","onUpdate:modelValue"]),s(t(v),{variant:"secondary",size:"icon",onClick:_=>Q(b),disabled:S.value!==null,title:"Interrogate URL"},{default:a(()=>[S.value!==b?(r(),L(t(ue),{key:0,class:"size-4"})):(r(),L(t(P),{key:1,class:"size-4 animate-spin"}))]),_:2},1032,["onClick","disabled"])])]),l("div",gt,[s(t(u),null,{default:a(()=>[...e[62]||(e[62]=[n("Favicon",-1)])]),_:1}),l("div",ft,[s(t(m),{modelValue:o.favicon,"onUpdate:modelValue":_=>o.favicon=_,placeholder:"Icon URL"},null,8,["modelValue","onUpdate:modelValue"]),o.favicon?(r(),d("div",_t,[l("img",{src:o.favicon,class:"size-full object-contain"},null,8,bt)])):c("",!0)])]),l("div",yt,[s(t(u),null,{default:a(()=>[...e[63]||(e[63]=[n("Image URL (OG / Screenshot)",-1)])]),_:1}),s(t(m),{modelValue:o.image_url,"onUpdate:modelValue":_=>o.image_url=_,placeholder:"Background/OG Image URL"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",vt,[s(t(u),null,{default:a(()=>[...e[64]||(e[64]=[n("Description",-1)])]),_:1}),s(t(m),{modelValue:o.description,"onUpdate:modelValue":_=>o.description=_,placeholder:"Optional description"},null,8,["modelValue","onUpdate:modelValue"])]),o.image_url?(r(),d("div",kt,[s(t(u),{class:"mb-1 block"},{default:a(()=>[...e[65]||(e[65]=[n("Preview",-1)])]),_:1}),l("div",xt,[l("img",{src:o.image_url,class:"w-full h-full object-cover"},null,8,Ct),l("div",ht,[l("div",wt,B(o.title),1),l("div",Vt,B(o.description),1)]),l("button",{onClick:_=>{o.image_url="",R()},class:"absolute top-2 right-2 size-8 flex items-center justify-center rounded-full bg-black/50 hover:bg-destructive text-white transition-colors backdrop-blur-sm"},[s(t(q),{class:"size-4"})],8,St)])])):c("",!0)]),s(t(v),{variant:"destructive",size:"icon",onClick:_=>K(b),class:"shrink-0"},{default:a(()=>[s(t(q),{class:"size-4"})]),_:1},8,["onClick"])])]))),128)),s(t(v),{variant:"outline",onClick:J,class:"w-full border-dashed"},{default:a(()=>[s(t(me),{class:"mr-2 size-4"}),e[66]||(e[66]=n(" Add New Bookmark ",-1))]),_:1})]),_:1}),s(t(F),null,{default:a(()=>[s(t(v),{onClick:R,disabled:t(y).processing},{default:a(()=>[s(t($),{class:"mr-2 size-4"}),e[67]||(e[67]=n(" Save Bookmarks ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})])):c("",!0),f.value==="mail"?(r(),d("div",Ut,[s(t(x),null,{default:a(()=>[s(t(C),null,{default:a(()=>[s(t(h),null,{default:a(()=>[...e[68]||(e[68]=[n("Mail Configuration",-1)])]),_:1}),s(t(w),null,{default:a(()=>[...e[69]||(e[69]=[n("Configure SMTP settings for system notifications and password resets.",-1)])]),_:1})]),_:1}),s(t(V),{class:"space-y-6"},{default:a(()=>[l("div",Lt,[l("h3",Tt,[s(t(W),{class:"size-4 text-primary"}),e[70]||(e[70]=n(" Environment Setup ",-1))]),e[71]||(e[71]=l("p",null,[n("To enable email functionality, update the following keys in your "),l("code",null,".env"),n(" file:")],-1)),e[72]||(e[72]=l("pre",{class:"p-3 bg-black text-emerald-400 rounded text-xs overflow-x-auto"},`MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="no-reply@yourdomain.com"
MAIL_FROM_NAME="\${APP_NAME}"`,-1)),e[73]||(e[73]=l("p",{class:"text-muted-foreground italic"},[n("Important: Run "),l("code",null,"php artisan config:clear"),n(" after editing the .env file.")],-1))]),l("div",At,[e[76]||(e[76]=l("h3",{class:"font-bold"},"Test Delivery",-1)),l("div",Mt,[l("div",zt,[s(t(u),null,{default:a(()=>[...e[74]||(e[74]=[n("Recipient Email Address",-1)])]),_:1}),l("div",Rt,[s(t(m),{modelValue:U.value,"onUpdate:modelValue":e[18]||(e[18]=o=>U.value=o),placeholder:"test@example.com",type:"email"},null,8,["modelValue"]),s(t(v),{onClick:X,disabled:A.value||!U.value,class:"shrink-0"},{default:a(()=>[A.value?(r(),L(t(P),{key:1,class:"mr-2 size-4 animate-spin"})):(r(),L(t(de),{key:0,class:"mr-2 size-4"})),e[75]||(e[75]=n(" Send Test ",-1))]),_:1},8,["disabled"])])])])])]),_:1})]),_:1})])):c("",!0)])])]),_:1}))}});export{bs as default};
